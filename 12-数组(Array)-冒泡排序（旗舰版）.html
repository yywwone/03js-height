<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>

<script>

//    var arr = [3,4,2,7,1,6,5];
    var arr = [1,2,3,4,5,6,7];
    console.log(arr);
    //冒泡排序：两个循环一个循环控制轮数，一个循环控制次数；
            //轮数和次数都是元素个数-1；
            //相邻的两个元素进行比较，满足条件就交换位置；

    //优化的方向：
    //   1.次数优化，没多比较一轮，少比较一次；
    //   2.轮数优化；如果已经提前完成了，就不用在比较了；
            //程序认为排序完毕，没有一次相邻的两个元素交换位置；


    //每一轮能够找出一个满足条件的，那么从第二轮开始，每一轮比较都可以少比较一次；

    var m = 0;//轮数
    var n = 0;//次数


    //利用一个for循环，很多轮的比较(元素个数-1轮);
    for(var j=0;j<arr.length-1;j++){
        //开闭原则(定义一个boolean值，如果交换变量就改变，否则默认为true)
        var bool = true;//每一轮开始的时候，初始化为true;
        //某一轮过程中，比较的次数；（元素个数-1次）
        //j: 第一轮少比较0次；第二轮少比较1次；。。。
        for(var i=0;i<arr.length-1-j;i++){//多比较一轮，少比较一次；
            //相邻的两个元素进行比较，满足添加就交换位置；
            if(arr[i] > arr[i+1]){
                //交换变量
                var temp = arr[i];
                arr[i] = arr[i+1];
                arr[i+1] = temp;
                //有一次交换位置，也不能跳出循环；
                bool = false;
            }
            n++;//又比较了一次；
        }
        m++;//又比较一轮；
        //如果boolean为ture，没有交换位置，就可以跳出循环了....
        if(bool){
            break;
        }
    }


    console.log(arr);
    console.log(m);
    console.log(n);

</script>

</body>
</html>